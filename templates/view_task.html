{% extends 'base.html' %}

{% block title %}{{ task.title }} View Task - TaskMate{% endblock %}

{% block content %}
<div class="content">
    <div class="task-header">
        <h1>{{ task.title }}</h1>
        <div class="task-badges">
            <span class="badge status-{{ task.status }}">{{ task.status.value.replace("_", " ")|title }}</span>
            <span class="badge priority-{{ task.priority }}">{{task.priority.value|title}}</span>
        </div>
    </div>
    <div class="task-details">
        <div class="detail-row">
            <strong>Description:</strong>
            <p>{{ task.description or 'No description provided' }}</p>
        </div>
        <div class="detail-row">
            <strong>Due Date:</strong>
            <p>{{ task.due_date or 'No due date set' }}</p>
        </div>
        <div class="detail-row">
            <strong>Created at:</strong>
            <p>{{ task.created_at.strftime('%B %d,%Y at %I:%m %p') if task.created_at else 'Unknown' }}</p>
        </div>
        <div class="detail-row">
            <strong>Updated at:</strong>
            <p>{{ task.updated_at.strftime('%B %d,%Y at %I:%m %p') if task.updated_at else 'Unknown' }}</p>
        </div>
    </div>

    <div class="form-actions">
        <a href="{{ url_for('task_routes.edit_task_page',task_id=task.id) }}" class="btn btn-primary">Edit Task</a>
        <form method="POST" action="{{ url_for('task_routes.delete_task', task_id=task.id) }}" style="display: inline;">
            <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this task?')">Delete Task</button>
        </form>
        <a href="{{ url_for('task_routes.home') }}" class="btn btn-secondary">Back to Tasks</a>
    </div>
</div>
{% endblock %}